<html>
<head>
    <title>Armadillo OAuth protocol API</title>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
</head>
<body>
    <div id="header">
        <div class="size-controls">
            <ul class="size-controls__options">
                <li class="size-controls__option"><a class="size-controls__option--overview size-controls__option--resize" data-action="overview" href="PUT_API_NAME_WITH_-_INSTEAD_OF_SPACES">Overview</a></li>
                <li class="size-controls__option"><a class="size-controls__option--overview size-controls__option--console" data-action="switch-to-console" href="./console">Switch to console</a></li>
                <li><span class="resizer"><i class="resizer__arrow"></i></span></li>
            </ul>
            <div class="language-controls__options" data-element="language-selector">
                <span class="language-controls__help">SELECT THE PROGRAMING LANGUAGE</span>
                <ul class="language-controls__list" data-list="language-list">
                    <li class="language-controls--selected language-controls__item"><span class="language-controls--selected--text">JAVA</span>
                        <ul class="language-control__items">
                            <li class="language-controls__item" data-item="language-curl">CURL</li>
                            <li class="language-controls__item item-selected" data-item="language-java">JAVA</li>
                            <li class="language-controls__item" data-item="language-python">PYTHON</li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div id="sidebar">
        <div id="nav-anchor">&nbsp;</div>
        <h1 class="nav__title"><a data-link="get-api" href="/group/api_market/get-api?api=PUT_API_NAME_WITH_UNDERSCORES_INSTEAD_OF_SPACES">Get API</a></h1>
        <div class="nav-wrapper-scroll">
            <nav class="nav">
                <ul class="nav__list" data-list="documentation-index">
                <li class="nav__list__item"><a class="nav__list__link nav__list__link--active" href="#description">Description</a></li>
                         <li class="nav__list__item"><a class="nav__list__link" href="#oauth-authorization-code">OAuth Authorization Code</a>
                        <ul class="nav__list nav__list--sub-list">
                    		<li class="nav__list__item">
                    			<span class="nav__list__icon">
                    				<strong class="api__documentation__http api__documentation__http--get">
										get</strong>
                    			</span> 
                    			<a class="nav__list__link" href="#oauth-authorization-code-get">/tsec/authorize</a>
                    		</li>
                        </ul><li class="nav__list__item"><a class="nav__list__link" href="#oauth-access-token">OAuth Access Token</a>
                        <ul class="nav__list nav__list--sub-list">
                    		<li class="nav__list__item">
                    			<span class="nav__list__icon">
                    				<strong class="api__documentation__http api__documentation__http--get">
										get</strong>
                    			</span> 
                    			<a class="nav__list__link" href="#oauth-access-token-get">/tsec/token</a>
                    		</li>
                        </ul><li class="nav__list__item"><a class="nav__list__link" href="#oauth-identity">OAuth Identity</a>
                        <ul class="nav__list nav__list--sub-list">
                    		<li class="nav__list__item">
                    			<span class="nav__list__icon">
                    				<strong class="api__documentation__http api__documentation__http--get">
										get</strong>
                    			</span> 
                    			<a class="nav__list__link" href="#oauth-identity-get">/connect/v1/identity</a>
                    		</li>
                        </ul> 
                </ul>
            </nav>
        </div>
    </div>
    <div id="api-doc">
        <section class="api-doc__section">
            <article>
                <section class="api__documentation" id="description">
                    <h1 class="api__documentation__title">Description</h1>
                    <div class="api__documentation__parameters">
                        <div class="col--first">
                            <span class="parameters__parameter">Title: </span>
                        </div>
                        <div class="col--second">
                            <span class="parameters__description">Armadillo OAuth protocol API</span>
                        </div>
                    </div>
                    <div class="api__documentation__parameters">
                        <div class="col--first">
                            <span class="parameters__parameter">Version: </span>
                        </div>
                        <div class="col--second">
                            <span class="parameters__description">v1</span>
                        </div>
                    </div>
                    <div class="api__documentation__parameters">
                        <div class="col--first">
                            <span class="parameters__parameter">Protocols: </span>
                        </div>
                        <div class="col--second">
                            <span class="parameters__description">HTTP,HTTPS</span>
                        </div>
                    </div>
                    <div class="api__documentation__parameters">
                        <div class="col--first">
                            <span class="parameters__parameter">Base Uri: </span>
                        </div>
                        <div class="col--second">
                            <span class="parameters__description">http://auth.bbva.com/</span>
                        </div>
                    </div>
                        <div class="api__documentation__text">
                        </div>
                </section>
                <section class="api__example api__example--place-holder">
                    <p class="place-holder place-holder--title">example screen</p>
                    <p class="place-holder place-holder--text">No examples are available on this section</p>
                    <p class="place-holder place-holder--text">Navigate to any service to show its associated examples</p>
                </section>
            </article>
                 <article>
            <section class="api__documentation" id="oauth-authorization-code">
                <h1 class="api__documentation__title">OAuth Authorization Code</h1>
                <p class="api__documentation__text">
                </p>
            </section>
            <section class="api__example">
            </section>
        </article><article>
            <section class="api__documentation" id="oauth-authorization-code-get">
                <article>
                    <div class="api__documentation__subtitle">
                        <h3 class="api__documentation__title">/tsec/authorize</h3>
                        <span class="api__documentation__icon"><strong
                                class="api__documentation__http api__documentation__http--get">get</strong> </span>
                        <p class="api__documentation__text">Login endpoint for the users. The application must send the user to this endpoint, and it will start the login flow with a   redirection to the login screen.
 That login flow (user credentials, captcha, OTP or whatever) is responsibility of the Identity Provider.
 After that login flow, the Identity Provider returns an authentication result and the scope approval page is shown to the user.
 If the user approves the requested scopes by the application, the authentication process redirects again to the caller application with an authorization code as parameter.
 With that code and its credentials, application must invoke the token endpoint to obtain a final access token (a USER-TSEC).
 If there isn&#39;t scope in the request, the scope of this token will be the default scope or scopes for each application. After this login and scope granting flow, security proxy will send the code to the redirect_uri registered for the application, along with the state parameter received in the request
</p>
                    </div>
                </article>
                <article id="oauth-authorization-code-get__headers">
                    <div class="api__documentation__subtitle">
                        <h4 class="api__documentation__section-name">Headers</h4>
                    </div>
                    <div class="api__documentation__parameters">
                        <div class="col--first"><span class="parameters__parameter">Authorization</span> <span
                                class="parameters__default">required <label class="parameters__type">(string)</label></span>
                        </div>
                        <div class="col--second"><span
                                class="parameters__description"> Tsec Authorization Header </span><span
                                class="paramters__example"> <strong>Example: </strong>Authorization: Tsec eJxt1MeOq1gUBdBfKXmKqshJctUTsUwwYBPNpHWBS7AxmBy
</span>
                        </div>
                    </div>
                </article>
                <article id="oauth-authorization-code-get__query-parameters">
                    <div class="api__documentation__subtitle">
                        <h4 class="api__documentation__section-name">Query Parameters</h4>
                    </div>
                    <div class="api__documentation__parameters">
                        <div class="col--first"><span class="parameters__parameter">response_type</span> <span
                                class="parameters__default">required <label class="parameters__type">(string)</label></span>
                        </div>
                        <div class="col--second"><span
                                class="parameters__description"> In this grant type, it must be code</span><span
                                class="paramters__example"> <strong>Example: </strong>authorization_code</span>
                        </div>
                    </div>
                    <div class="api__documentation__parameters">
                        <div class="col--first"><span class="parameters__parameter">client_id</span> <span
                                class="parameters__default">required <label class="parameters__type">(string)</label></span>
                        </div>
                        <div class="col--second"><span
                                class="parameters__description"> Application ID to verify that this application can get this type of tokens
</span><span
                                class="paramters__example"> <strong>Example: </strong>clientApi</span>
                        </div>
                    </div>
                    <div class="api__documentation__parameters">
                        <div class="col--first"><span class="parameters__parameter">state</span> <span
                                class="parameters__default">optional <label class="parameters__type">(string)</label></span>
                        </div>
                        <div class="col--second"><span
                                class="parameters__description"> An opaque value used by the client to maintain state between the request and callback. The authorization server includes this value when redirecting the user-agent back to the client.
</span><span
                                class="paramters__example"> <strong>Example: </strong>3cskc9023k18xcmkd02189D</span>
                        </div>
                    </div>
                    <div class="api__documentation__parameters">
                        <div class="col--first"><span class="parameters__parameter">scope</span> <span
                                class="parameters__default">optional <label class="parameters__type">(string)</label></span>
                        </div>
                        <div class="col--second"><span
                                class="parameters__description"> Scope requested by the application. User must approve it after login. Scopes are defined by authorization server and     they are just strings that represents a group of resources. These values are just an example 'heatlh', 'accounts'
</span><span
                                class="paramters__example"> <strong>Example: </strong>accounts</span>
                        </div>
                    </div>
                </article>
            </section>
            <section class="api__example">
                <h1 class="example__title">/tsec/authorize</h1>
                <h2 class="example__subtitle--call-code">EXAMPLE</h2>
                <div class="example__call-code">
                    <div class="example__code-container language-java">
                        <pre class="prettyprint">import java.io.BufferedReader;
import java.io.InputStreamReader;
import org.apache.http.HttpResponse;
import org.apache.http.client.HttpClient;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.HttpClientBuilder;
import org.apache.http.impl.client.HttpClients;
public class APIRestExample 
{
	public static void main(String[] args) throws Exception { 
		//API end point to make a call
		String url = &quot;http://auth.bbva.com//tsec/authorize?response_type=authorization_code&amp;client_id=clientApi&quot;; 
		HttpClientBuilder hcBuilder = HttpClients.custom();
		HttpClient client = hcBuilder.build() ;
		HttpGet request = new HttpGet(url);
		//Setting header parameters
		request.addHeader(&quot;Authorization&quot;, &quot;Authorization: Tsec eJxt1MeOq1gUBdBfKXmKqshJctUTsUwwYBPNpHWBS7AxmBy
&quot;);
		//Executing the call
		HttpResponse response = client.execute(request); 
		System.out.println(&quot;Sending &#39;GET&#39; to &quot; + url);
		System.out.println(&quot;HTTP Response: &quot; + response.getStatusLine().getStatusCode()); 
		BufferedReader rd = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));
		//Reading the response
		StringBuffer result = new StringBuffer();
		String line = &quot;&quot;;
		while ((line = rd.readLine()) != null) {
			result.append(line);
		} 
		System.out.println(result.toString()); 
	}
}</pre>
                    </div>
                    <div class="example__code-container language-python hidden">
                        <pre class="prettyprint">import urllib
import httplib
qparams = {}
qparams[&quot;response_type&quot;] = &quot;authorization_code&quot;
qparams[&quot;client_id&quot;] = &quot;clientApi&quot;
parqparams = urllib.urlencode(qparams)
conn = httplib.HTTPConnection(&#39;auth.bbva.com&#39;)
headers = {}
headers[&quot;Authorization&quot;] = &quot;Authorization: Tsec eJxt1MeOq1gUBdBfKXmKqshJctUTsUwwYBPNpHWBS7AxmBy
&quot;
conn.request(&#39;GET&#39;, &#39;//tsec/authorize?%s&#39;%parqparams, None, headers)
r = conn.getresponse()
print r.status, r.read()</pre>
                    </div>
                    <div class="example__code-container language-curl hidden">
                        <pre class="prettyprint"> curl -X GET &quot;http://auth.bbva.com//tsec/authorize?response_type=authorization_code&amp;client_id=clientApi&quot; \ 
  -H &quot;Authorization: Authorization: Tsec eJxt1MeOq1gUBdBfKXmKqshJctUTsUwwYBPNpHWBS7AxmBy
&quot; \ 
  -v</pre>
                    </div>
                </div>
                <h2 class="example__subtitle--response">RESPONSE</h2>
                <h3 class="example__subtitle--status-code">HTTP status code</h3>
                <div class="example__status-codes">
                    <div class="example__status-codes-wrapper">
                        <span class="example__status-code example__status-code">302</span>
                    </div>
                     <div class="example__info example__status-code__302 hidden">
                         <div class="example__info__col">
                            <span class="example__info__block">
                                <label class="example__info__text">Example: </label>
                            </span>
                         </div>
                         <div class="example__info__col">
                            <span class="example__info__block">
                                <label class="example__info__text">Type: </label>
                                <label class="example__info__text">Location</label>
                            </span>
                        </div>
                        <span class="example__json no_parse example__response--302 hidden">Location: http://genoa-security-elb-610466200.eu-west-1.elb.amazonaws.com/proxy-global-auth-server/bbvaconnect?client_id=app.bbva.dev.clientapi&amp;response_type=code
</span>
                     </div>
                    <div class="example__json-container">
                    </div>
                </div>
            </section>
        </article><article>
            <section class="api__documentation" id="oauth-access-token">
                <h1 class="api__documentation__title">OAuth Access Token</h1>
                <p class="api__documentation__text">
                </p>
            </section>
            <section class="api__example">
            </section>
        </article><article>
            <section class="api__documentation" id="oauth-access-token-get">
                <article>
                    <div class="api__documentation__subtitle">
                        <h3 class="api__documentation__title">/tsec/token</h3>
                        <span class="api__documentation__icon"><strong
                                class="api__documentation__http api__documentation__http--get">get</strong> </span>
                        <p class="api__documentation__text">If grant_type is client_credentials this endpoint returns an APP-TSEC that allows to call services on its own behalf. If grant_type is authorization_code this endpoint returns a USER-TSEC &amp; REFRESH that allows to call services on end user behalf. If grant_type is refresh_token this endpoint returns a new USER-TSEC &amp; REFRESH that allows to call services on end user behalf. If there isn&#39;t scope in the request, the scope of this token will be the default scope or scopes for each application. This endpoint is used both for 2-legged and 3-legged token. Refresh_token is only allowed to call this endpoint for refreshing the access_token. On 3-legged request it take the provided code parameter and exchange it for an USER-TSEC that allows an application to call services on end user behalf . Application credentials must be sent always by HTTP Basic Authorization header using the following format: clientId:clientSecret encoded in Base64.
</p>
                    </div>
                </article>
                <article id="oauth-access-token-get__headers">
                    <div class="api__documentation__subtitle">
                        <h4 class="api__documentation__section-name">Headers</h4>
                    </div>
                    <div class="api__documentation__parameters">
                        <div class="col--first"><span class="parameters__parameter">Authorization</span> <span
                                class="parameters__default">required <label class="parameters__type">(string)</label></span>
                        </div>
                        <div class="col--second"><span
                                class="parameters__description"> Basic Authorization Header with client credentials using the following format: clientId:clientSecret enconded in Base64
 </span><span
                                class="paramters__example"> <strong>Example: </strong>Authorization: Basic c3kd02lzkd0
</span>
                        </div>
                    </div>
                </article>
                <article id="oauth-access-token-get__query-parameters">
                    <div class="api__documentation__subtitle">
                        <h4 class="api__documentation__section-name">Query Parameters</h4>
                    </div>
                    <div class="api__documentation__parameters">
                        <div class="col--first"><span class="parameters__parameter">grant_type</span> <span
                                class="parameters__default">required <label class="parameters__type">(string)</label></span>
                        </div>
                        <div class="col--second"><span
                                class="parameters__description"> Type of authentication granting. In Oauth2 there are five grant types client_credentials, authorization_code, implicit, password and refresh_token. Grant type depends on how the application provides the authentication. For 2-legged token it must be client_credentials. For 3-legged token it must be authorization_code. For refresh 3-legged token it must be refresh_token
</span><span
                                class="paramters__example"> <strong>Example: </strong>authorization_code</span>
                        </div>
                    </div>
                    <div class="api__documentation__parameters">
                        <div class="col--first"><span class="parameters__parameter">scope</span> <span
                                class="parameters__default">optional <label class="parameters__type">(string)</label></span>
                        </div>
                        <div class="col--second"><span
                                class="parameters__description"> Just for 2-legged token - Access token scope (which services application wants to consume). Scopes are defined by authorization server and they are just strings that represents a group of resources. These values are just an example 'heatlh', 'accounts'
</span><span
                                class="paramters__example"> <strong>Example: </strong>heatlh</span>
                        </div>
                    </div>
                    <div class="api__documentation__parameters">
                        <div class="col--first"><span class="parameters__parameter">code</span> <span
                                class="parameters__default">required <label class="parameters__type">(string)</label></span>
                        </div>
                        <div class="col--second"><span
                                class="parameters__description"> Just for 3-legged token - Authorization code received by the application on the redirect_uri after authorization step.
</span><span
                                class="paramters__example"> <strong>Example: </strong>xBoB45</span>
                        </div>
                    </div>
                    <div class="api__documentation__parameters">
                        <div class="col--first"><span class="parameters__parameter">third_party_user_id</span> <span
                                class="parameters__default">optional <label class="parameters__type">(string)</label></span>
                        </div>
                        <div class="col--second"><span
                                class="parameters__description"> Application user ID (i.e. Dwolla user ID). If it is provided in this call, security will store it on the token, and it will be sent to all calls in the vnd.bbva.third-party-user-id
</span><span
                                class="paramters__example"> <strong>Example: </strong>1234abcdef</span>
                        </div>
                    </div>
                </article>
            </section>
            <section class="api__example">
                <h1 class="example__title">/tsec/token</h1>
                <h2 class="example__subtitle--call-code">EXAMPLE</h2>
                <div class="example__call-code">
                    <div class="example__code-container language-java">
                        <pre class="prettyprint">import java.io.BufferedReader;
import java.io.InputStreamReader;
import org.apache.http.HttpResponse;
import org.apache.http.client.HttpClient;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.HttpClientBuilder;
import org.apache.http.impl.client.HttpClients;
public class APIRestExample 
{
	public static void main(String[] args) throws Exception { 
		//API end point to make a call
		String url = &quot;http://auth.bbva.com//tsec/token?grant_type=authorization_code&amp;code=xBoB45&quot;; 
		HttpClientBuilder hcBuilder = HttpClients.custom();
		HttpClient client = hcBuilder.build() ;
		HttpGet request = new HttpGet(url);
		//Setting header parameters
		request.addHeader(&quot;Authorization&quot;, &quot;Authorization: Basic c3kd02lzkd0
&quot;);
		//Executing the call
		HttpResponse response = client.execute(request); 
		System.out.println(&quot;Sending &#39;GET&#39; to &quot; + url);
		System.out.println(&quot;HTTP Response: &quot; + response.getStatusLine().getStatusCode()); 
		BufferedReader rd = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));
		//Reading the response
		StringBuffer result = new StringBuffer();
		String line = &quot;&quot;;
		while ((line = rd.readLine()) != null) {
			result.append(line);
		} 
		System.out.println(result.toString()); 
	}
}</pre>
                    </div>
                    <div class="example__code-container language-python hidden">
                        <pre class="prettyprint">import urllib
import httplib
qparams = {}
qparams[&quot;grant_type&quot;] = &quot;authorization_code&quot;
qparams[&quot;code&quot;] = &quot;xBoB45&quot;
parqparams = urllib.urlencode(qparams)
conn = httplib.HTTPConnection(&#39;auth.bbva.com&#39;)
headers = {}
headers[&quot;Authorization&quot;] = &quot;Authorization: Basic c3kd02lzkd0
&quot;
conn.request(&#39;GET&#39;, &#39;//tsec/token?%s&#39;%parqparams, None, headers)
r = conn.getresponse()
print r.status, r.read()</pre>
                    </div>
                    <div class="example__code-container language-curl hidden">
                        <pre class="prettyprint"> curl -X GET &quot;http://auth.bbva.com//tsec/token?grant_type=authorization_code&amp;code=xBoB45&quot; \ 
  -H &quot;Authorization: Authorization: Basic c3kd02lzkd0
&quot; \ 
  -v</pre>
                    </div>
                </div>
                <h2 class="example__subtitle--response">RESPONSE</h2>
                <h3 class="example__subtitle--status-code">HTTP status code</h3>
                <div class="example__status-codes">
                    <div class="example__status-codes-wrapper">
                        <span class="example__status-code example__status-code">200</span>
                        <span class="example__status-code example__status-code">400</span>
                        <span class="example__status-code example__status-code">401</span>
                        <span class="example__status-code example__status-code">404</span>
                    </div>
                     <div class="example__info example__status-code__200 hidden">
                         <div class="example__info__col">
                            <span class="example__info__block">
                                <label class="example__info__text">Example: </label>
                            </span>
                         </div>
                         <div class="example__info__col">
                            <span class="example__info__block">
                                <label class="example__info__text">Type: </label>
                                <label class="example__info__text">application/json</label>
                            </span>
                         </div>
                        <span class="example__json example__response--200 hidden">{
  &quot;access_token&quot;: &quot;eJxt1...pNIP6g==&quot;,
  &quot;token_type&quot;: &quot;tsec&quot;,
  &quot;refresh_token&quot;: &quot;eJxtl...vf1K9epA==&quot;,
  &quot;expires_in&quot;: 35999,
  &quot;scope&quot;: &quot;ClientAPI-Basic-Info ClientAPI-Full-Info&quot;,
  &quot;refresh_expires_in&quot;: 359999
}</span>
                     </div>
                     <div class="example__info example__status-code__400 hidden">
                         <ul class="example__additional-info">
                            <span class="example__info__block">
                             <div class="example__info__text">
                                  <table>
<thead>
<tr>
<th>http status</th>
<th>error</th>
<th>error_description</th>
</tr>
</thead>
<tbody>
<tr>
<td>400</td>
<td>invalid_scope</td>
<td>invalid scope:</td>
</tr>
<tr>
<td>400</td>
<td>unsupported_grant_type</td>
<td>Unsupported grant type : xxxxxxxx</td>
</tr>
<tr>
<td>400</td>
<td>invalid_request</td>
<td>Missing grant type</td>
</tr>
<tr>
<td>400</td>
<td>invalid_grant</td>
<td>Invalid authorization code: AKg0Vb</td>
</tr>
<tr>
<td>400</td>
<td>invalid_request</td>
<td>An authorization code must be supplied.</td>
</tr>
</tbody>
</table>
                             </div>
                            </span>
                         </ul>
                         <div class="example__info__col">
                            <span class="example__info__block">
                                <label class="example__info__text">Example: </label>
                            </span>
                         </div>
                         <div class="example__info__col">
                            <span class="example__info__block">
                                <label class="example__info__text">Type: </label>
                                <label class="example__info__text">application/json</label>
                            </span>
                         </div>
                        <span class="example__json example__response--400 hidden">{
    &quot;error&quot;: &quot;invalid_scope&quot;,
    &quot;error_description&quot;: &quot;Invalid scope: test&quot;,
    &quot;scope&quot;: &quot;accounts,health&quot;
}</span>
                     </div>
                     <div class="example__info example__status-code__401 hidden">
                         <ul class="example__additional-info">
                            <span class="example__info__block">
                             <div class="example__info__text">
                                  <table>
<thead>
<tr>
<th>http status</th>
<th>error</th>
<th>error_description</th>
</tr>
</thead>
<tbody>
<tr>
<td>401</td>
<td>invalid_token</td>
<td>This is not a refresh token</td>
</tr>
<tr>
<td>401</td>
<td>unauthorized</td>
<td>Bad client id</td>
</tr>
<tr>
<td>401</td>
<td>unauthorized</td>
<td>Bad credentials</td>
</tr>
</tbody>
</table>
                             </div>
                            </span>
                         </ul>
                         <div class="example__info__col">
                            <span class="example__info__block">
                                <label class="example__info__text">Example: </label>
                            </span>
                         </div>
                         <div class="example__info__col">
                            <span class="example__info__block">
                                <label class="example__info__text">Type: </label>
                                <label class="example__info__text">application/json</label>
                            </span>
                         </div>
                        <span class="example__json example__response--401 hidden">{
    &quot;error&quot;: &quot;unauthorized&quot;,
    &quot;error_description&quot;: &quot;Bad client ID&quot;
}</span>
                     </div>
                     <div class="example__info example__status-code__404 hidden">
                         <div class="example__info__col">
                            <span class="example__info__block">
                                <label class="example__info__text">Example: </label>
                            </span>
                         </div>
                         <div class="example__info__col">
                            <span class="example__info__block">
                                <label class="example__info__text">Type: </label>
                                <label class="example__info__text">application/json</label>
                            </span>
                         </div>
                        <span class="example__json example__response--404 hidden">{
    &quot;error&quot;: &quot;invalid_token&quot;,
    &quot;error_description&quot;: &quot;Not Found&quot;
}</span>
                     </div>
                    <div class="example__json-container">
                    </div>
                </div>
            </section>
        </article><article>
            <section class="api__documentation" id="oauth-identity">
                <h1 class="api__documentation__title">OAuth Identity</h1>
                <p class="api__documentation__text">
                     Services for delegated login management
                </p>
            </section>
            <section class="api__example">
            </section>
        </article><article>
            <section class="api__documentation" id="oauth-identity-get">
                <article>
                    <div class="api__documentation__subtitle">
                        <h3 class="api__documentation__title">/connect/v1/identity</h3>
                        <span class="api__documentation__icon"><strong
                                class="api__documentation__http api__documentation__http--get">get</strong> </span>
                        <p class="api__documentation__text">Given a valid tsec, returns the external user identifier associated to the user.
</p>
                    </div>
                </article>
                <article id="oauth-identity-get__headers">
                    <div class="api__documentation__subtitle">
                        <h4 class="api__documentation__section-name">Headers</h4>
                    </div>
                    <div class="api__documentation__parameters">
                        <div class="col--first"><span class="parameters__parameter">Authorization</span> <span
                                class="parameters__default">required <label class="parameters__type">(string)</label></span>
                        </div>
                        <div class="col--second"><span
                                class="parameters__description"> Tsec Authorization Header </span><span
                                class="paramters__example"> <strong>Example: </strong>Authorization: Tsec eJxt1MeOq1gUBdBfKXmKqshJctUTsUwwYBPNpHWBS7AxmBy
</span>
                        </div>
                    </div>
                </article>
            </section>
            <section class="api__example">
                <h1 class="example__title">/connect/v1/identity</h1>
                <h2 class="example__subtitle--call-code">EXAMPLE</h2>
                <div class="example__call-code">
                    <div class="example__code-container language-java">
                        <pre class="prettyprint">import java.io.BufferedReader;
import java.io.InputStreamReader;
import org.apache.http.HttpResponse;
import org.apache.http.client.HttpClient;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.HttpClientBuilder;
import org.apache.http.impl.client.HttpClients;
public class APIRestExample 
{
	public static void main(String[] args) throws Exception { 
		//API end point to make a call
		String url = &quot;http://auth.bbva.com//connect/v1/identity&quot;; 
		HttpClientBuilder hcBuilder = HttpClients.custom();
		HttpClient client = hcBuilder.build() ;
		HttpGet request = new HttpGet(url);
		//Setting header parameters
		request.addHeader(&quot;Authorization&quot;, &quot;Authorization: Tsec eJxt1MeOq1gUBdBfKXmKqshJctUTsUwwYBPNpHWBS7AxmBy
&quot;);
		//Executing the call
		HttpResponse response = client.execute(request); 
		System.out.println(&quot;Sending &#39;GET&#39; to &quot; + url);
		System.out.println(&quot;HTTP Response: &quot; + response.getStatusLine().getStatusCode()); 
		BufferedReader rd = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));
		//Reading the response
		StringBuffer result = new StringBuffer();
		String line = &quot;&quot;;
		while ((line = rd.readLine()) != null) {
			result.append(line);
		} 
		System.out.println(result.toString()); 
	}
}</pre>
                    </div>
                    <div class="example__code-container language-python hidden">
                        <pre class="prettyprint">import urllib
import httplib
qparams = {}
parqparams = urllib.urlencode(qparams)
conn = httplib.HTTPConnection(&#39;auth.bbva.com&#39;)
headers = {}
headers[&quot;Authorization&quot;] = &quot;Authorization: Tsec eJxt1MeOq1gUBdBfKXmKqshJctUTsUwwYBPNpHWBS7AxmBy
&quot;
conn.request(&#39;GET&#39;, &#39;//connect/v1/identity?%s&#39;%parqparams, None, headers)
r = conn.getresponse()
print r.status, r.read()</pre>
                    </div>
                    <div class="example__code-container language-curl hidden">
                        <pre class="prettyprint"> curl -X GET &quot;http://auth.bbva.com//connect/v1/identity&quot; \ 
  -H &quot;Authorization: Authorization: Tsec eJxt1MeOq1gUBdBfKXmKqshJctUTsUwwYBPNpHWBS7AxmBy
&quot; \ 
  -v</pre>
                    </div>
                </div>
                <h2 class="example__subtitle--response">RESPONSE</h2>
                <h3 class="example__subtitle--status-code">HTTP status code</h3>
                <div class="example__status-codes">
                    <div class="example__status-codes-wrapper">
                        <span class="example__status-code example__status-code">200</span>
                        <span class="example__status-code example__status-code">400</span>
                    </div>
                     <div class="example__info example__status-code__200 hidden">
                         <div class="example__info__col">
                            <span class="example__info__block">
                                <label class="example__info__text">Example: </label>
                            </span>
                         </div>
                         <div class="example__info__col">
                            <span class="example__info__block">
                                <label class="example__info__text">Type: </label>
                                <label class="example__info__text">application/json</label>
                            </span>
                         </div>
                        <span class="example__json example__response--200 hidden">{
    &quot;result&quot;: {
        &quot;code&quot;: 200,
        &quot;info&quot;: &quot;OK&quot;
    },
    &quot;data&quot;: {
        &quot;id&quot;: &quot;da7283411dda51a019694ed4bdda896ca5818884b39e75cba3f3f70ad6ff7fbb&quot;
    }
}</span>
                     </div>
                     <div class="example__info example__status-code__400 hidden">
                         <ul class="example__additional-info">
                            <span class="example__info__block">
                             <div class="example__info__text">
                                  <p>Invalid inputs, blank credentials</p>
                             </div>
                            </span>
                         </ul>
                         <div class="example__info__col">
                            <span class="example__info__block">
                                <label class="example__info__text">Example: </label>
                            </span>
                         </div>
                         <div class="example__info__col">
                            <span class="example__info__block">
                                <label class="example__info__text">Type: </label>
                                <label class="example__info__text">application/json</label>
                            </span>
                         </div>
                        <span class="example__json example__response--400 hidden">{
  &quot;result&quot;:{
    &quot;code&quot;:400,
    &quot;info&quot;:&quot;vnd.bbva.application-id or vnd.bbva.user-id headers are mandatory&quot;
}      </span>
                     </div>
                    <div class="example__json-container">
                    </div>
                </div>
            </section>
        </article> 
        </section>
    </div>
</body>
</html>